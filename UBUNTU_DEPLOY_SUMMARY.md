# ğŸŒ¾ Ubuntu ä¸€é”®éƒ¨ç½²åŠŸèƒ½å®Œæˆæ€»ç»“

## ğŸ“‹ å·²å®Œæˆçš„å·¥ä½œ

ä¸º Stardew Save Manager é¡¹ç›®æˆåŠŸæ·»åŠ äº† Ubuntu ç³»ç»Ÿçš„ä¸€é”®éƒ¨ç½²åŠŸèƒ½ï¼Œæä¾›å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åŒ–éƒ¨ç½²è§£å†³æ–¹æ¡ˆã€‚

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. `deploy.sh` - ä¸€é”®éƒ¨ç½²è„šæœ¬
- **æ–‡ä»¶è·¯å¾„**: `/stardew-save-manager/deploy.sh`
- **æƒé™**: å¯æ‰§è¡Œ (`chmod +x`)
- **å¤§å°**: 14,969 å­—èŠ‚
- **åŠŸèƒ½**: å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

### 2. `DEPLOYMENT.md` - è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
- **æ–‡ä»¶è·¯å¾„**: `/stardew-save-manager/DEPLOYMENT.md`
- **å¤§å°**: 10,445 å­—èŠ‚
- **å†…å®¹**: å®Œæ•´çš„éƒ¨ç½²æŒ‡å—å’Œæ•…éšœæ’é™¤

### 3. æ›´æ–°çš„ `README.md`
- æ·»åŠ äº† Ubuntu ä¸€é”®éƒ¨ç½²è¯´æ˜
- æ›´æ–°äº†é¡¹ç›®ç»“æ„è¯´æ˜
- æ·»åŠ äº†æ–°åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨

## ğŸš€ éƒ¨ç½²è„šæœ¬åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ è‡ªåŠ¨åŒ–å®‰è£…ç»„ä»¶
- **Go 1.21.5**: åç«¯è¿è¡Œç¯å¢ƒ
- **Node.js 18**: å‰ç«¯æ„å»ºå·¥å…·
- **Nginx**: Web æœåŠ¡å™¨å’Œåå‘ä»£ç†
- **Supervisor**: è¿›ç¨‹ç®¡ç†å’Œç›‘æ§
- **UFW**: é˜²ç«å¢™é…ç½®

### ğŸ—ï¸ ç³»ç»Ÿé…ç½®
- åˆ›å»ºä¸“ç”¨ `stardew` ç³»ç»Ÿç”¨æˆ·
- é…ç½®é¡¹ç›®ç›®å½• `/opt/stardew-save-manager`
- è®¾ç½®æœåŠ¡è‡ªåŠ¨å¯åŠ¨å’Œé‡å¯
- é…ç½®æ—¥å¿—è½®æ¢å’Œç®¡ç†

### ğŸ›¡ï¸ å®‰å…¨è®¾ç½®
- UFW é˜²ç«å¢™é…ç½®
- ç«¯å£è®¿é—®æ§åˆ¶ï¼ˆåªå¼€æ”¾ 80ã€443ã€SSHï¼‰
- ç”¨æˆ·æƒé™æœ€å°åŒ–
- å®‰å…¨çš„ HTTP å¤´è®¾ç½®

### ğŸ“Š ç›‘æ§å’Œç®¡ç†
- è‡ªåŠ¨ç”Ÿæˆç®¡ç†è„šæœ¬ï¼š
  - `start.sh` - å¯åŠ¨æœåŠ¡
  - `stop.sh` - åœæ­¢æœåŠ¡  
  - `restart.sh` - é‡å¯æœåŠ¡
  - `status.sh` - çŠ¶æ€æ£€æŸ¥
- è¯¦ç»†çš„æ—¥å¿—è®°å½•
- å¥åº·æ£€æŸ¥å’ŒéªŒè¯

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿéƒ¨ç½²
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Yeaowo/stardew-save-manager.git
cd stardew-save-manager

# 2. è¿è¡Œä¸€é”®éƒ¨ç½²
sudo ./deploy.sh

# 3. è®¿é—®åº”ç”¨
# Webç•Œé¢: http://localhost
# APIåœ°å€: http://localhost/api
```

### æœåŠ¡ç®¡ç†
```bash
# ä½¿ç”¨ç®¡ç†è„šæœ¬
/opt/stardew-save-manager/start.sh
/opt/stardew-save-manager/stop.sh
/opt/stardew-save-manager/restart.sh
/opt/stardew-save-manager/status.sh

# æˆ–ä½¿ç”¨ç³»ç»Ÿå‘½ä»¤
sudo supervisorctl status stardew-backend
sudo systemctl status nginx
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ
- âœ… Ubuntu 20.04 LTS+
- âœ… Debian 11+
- âœ… å…¶ä»–åŸºäº Debian çš„å‘è¡Œç‰ˆ

### ç¡¬ä»¶è¦æ±‚
- **CPU**: x86_64 æ¶æ„ï¼ˆAMD64ï¼‰
- **å†…å­˜**: æœ€ä½ 1GB RAMï¼Œæ¨è 2GB+
- **å­˜å‚¨**: æœ€ä½ 5GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: äº’è”ç½‘è¿æ¥

### æƒé™è¦æ±‚
- `root` ç”¨æˆ·æˆ– `sudo` æƒé™
- systemd æœåŠ¡ç®¡ç†æ”¯æŒ

## ğŸ” æŠ€æœ¯å®ç°

### è„šæœ¬ç‰¹æ€§
- **é”™è¯¯å¤„ç†**: `set -e` ä¸¥æ ¼é”™è¯¯æ£€æŸ¥
- **å½©è‰²è¾“å‡º**: ç¾è§‚çš„æ—¥å¿—æ˜¾ç¤º
- **è¿›åº¦æ˜¾ç¤º**: è¯¦ç»†çš„å®‰è£…æ­¥éª¤æç¤º
- **éªŒè¯æœºåˆ¶**: æ¯æ­¥å®Œæˆåçš„çŠ¶æ€éªŒè¯
- **æ¸…ç†åŠŸèƒ½**: å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†

### æ¶æ„è®¾è®¡
- **åˆ†å±‚éƒ¨ç½²**: ç³»ç»Ÿå±‚ â†’ åº”ç”¨å±‚ â†’ é…ç½®å±‚
- **æœåŠ¡åˆ†ç¦»**: å‰ç«¯é™æ€æ–‡ä»¶ + åç«¯ API
- **åå‘ä»£ç†**: Nginx ç»Ÿä¸€å…¥å£
- **è¿›ç¨‹ç®¡ç†**: Supervisor å®ˆæŠ¤è¿›ç¨‹

### é…ç½®æ–‡ä»¶
- **Nginx**: `/etc/nginx/sites-available/stardew-save-manager`
- **Supervisor**: `/etc/supervisor/conf.d/stardew-save-manager.conf`
- **ç¯å¢ƒå˜é‡**: è‡ªåŠ¨ç”Ÿæˆ JWT å¯†é’¥
- **é˜²ç«å¢™**: UFW è§„åˆ™é…ç½®

## ğŸ“Š éƒ¨ç½²æµç¨‹

```mermaid
graph TD
    A[å¼€å§‹éƒ¨ç½²] --> B[ç³»ç»Ÿæ£€æŸ¥]
    B --> C[æ›´æ–°ç³»ç»Ÿ]
    C --> D[åˆ›å»ºç”¨æˆ·]
    D --> E[å®‰è£… Go]
    E --> F[å®‰è£… Node.js]
    F --> G[åˆ›å»ºç›®å½•]
    G --> H[éƒ¨ç½²ä»£ç ]
    H --> I[æ„å»ºåç«¯]
    I --> J[æ„å»ºå‰ç«¯]
    J --> K[é…ç½® Nginx]
    K --> L[é…ç½® Supervisor]
    L --> M[é…ç½®é˜²ç«å¢™]
    M --> N[åˆ›å»ºç®¡ç†è„šæœ¬]
    N --> O[å¯åŠ¨æœåŠ¡]
    O --> P[éªŒè¯éƒ¨ç½²]
    P --> Q[éƒ¨ç½²å®Œæˆ]
```

## âœ… æµ‹è¯•éªŒè¯

### è‡ªåŠ¨éªŒè¯é¡¹ç›®
- âœ… ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥
- âœ… ä¾èµ–å®‰è£…éªŒè¯
- âœ… æœåŠ¡å¯åŠ¨çŠ¶æ€
- âœ… ç«¯å£ç›‘å¬æ£€æŸ¥
- âœ… HTTP è¿æ¥æµ‹è¯•

### æ‰‹åŠ¨éªŒè¯é¡¹ç›®
- âœ… Web ç•Œé¢è®¿é—®æ­£å¸¸
- âœ… API æ¥å£å“åº”æ­£å¸¸
- âœ… è®¤è¯åŠŸèƒ½å·¥ä½œæ­£å¸¸
- âœ… å­˜æ¡£ç®¡ç†åŠŸèƒ½æ­£å¸¸

## ğŸ”§ ç»´æŠ¤å’Œæ›´æ–°

### æ—¥å¿—ç›‘æ§
```bash
# åç«¯æ—¥å¿—
tail -f /opt/stardew-save-manager/logs/backend.log

# Nginx æ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### æœåŠ¡ç®¡ç†
```bash
# Supervisor ç®¡ç†
sudo supervisorctl status
sudo supervisorctl restart stardew-backend

# Nginx ç®¡ç†
sudo systemctl status nginx
sudo systemctl reload nginx
```

### æ›´æ–°åº”ç”¨
```bash
# åœæ­¢æœåŠ¡
sudo supervisorctl stop stardew-save-manager:*

# æ›´æ–°ä»£ç 
cd /opt/stardew-save-manager
sudo -u stardew git pull

# é‡æ–°æ„å»º
# ... (å…·ä½“æ­¥éª¤è§ DEPLOYMENT.md)

# å¯åŠ¨æœåŠ¡
sudo supervisorctl start stardew-save-manager:*
```

## ğŸ‰ æ€»ç»“

æˆåŠŸä¸º Stardew Save Manager é¡¹ç›®å®ç°äº†ï¼š

1. **å®Œæ•´çš„ Ubuntu ä¸€é”®éƒ¨ç½²è§£å†³æ–¹æ¡ˆ**
2. **ç”Ÿäº§ç¯å¢ƒçº§åˆ«çš„é…ç½®å’Œå®‰å…¨è®¾ç½®**
3. **è¯¦ç»†çš„æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—**
4. **ä¾¿æ·çš„æœåŠ¡ç®¡ç†å·¥å…·**
5. **å®Œå–„çš„ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ**

è¯¥éƒ¨ç½²æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
- ğŸš€ **ç®€å•æ˜“ç”¨**: ä¸€è¡Œå‘½ä»¤å®Œæˆéƒ¨ç½²
- ğŸ›¡ï¸ **å®‰å…¨å¯é **: å®Œå–„çš„å®‰å…¨é…ç½®
- ğŸ“Š **å¯ç›‘æ§**: è¯¦ç»†çš„æ—¥å¿—å’ŒçŠ¶æ€æ£€æŸ¥
- ğŸ”§ **æ˜“ç»´æŠ¤**: ä¾¿æ·çš„ç®¡ç†è„šæœ¬
- ğŸ“š **æ–‡æ¡£å®Œå–„**: è¯¦ç»†çš„ä½¿ç”¨å’Œæ•…éšœæ’é™¤æŒ‡å—

---

**ğŸŒ¾ Ubuntu ä¸€é”®éƒ¨ç½²åŠŸèƒ½å·²å®Œæˆï¼Œç”¨æˆ·ç°åœ¨å¯ä»¥è½»æ¾åœ¨ Ubuntu/Debian ç³»ç»Ÿä¸Šéƒ¨ç½² Stardew Save Managerï¼**